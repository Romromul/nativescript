<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
    <ProjectGuid>{2313F1BF-1F2D-4F11-806A-87927FA6A7C0}</ProjectGuid>
    <ProjectTypeGuids>{349c5851-65df-11da-9384-00065b846f21};{fae04ec0-301f-11d3-bf4b-00c04f79efbc}</ProjectTypeGuids>
    <OutputType>Library</OutputType>
    <OutputPath>bin</OutputPath>
    <TargetFrameworkVersion>v4.5</TargetFrameworkVersion>
    <DebugType>full</DebugType>
    <DebugSymbols>true</DebugSymbols>
    <TypeScriptToolsVersion>1.0</TypeScriptToolsVersion>
    <UseIISExpress>true</UseIISExpress>
    <IISExpressSSLPort />
    <IISExpressAnonymousAuthentication />
    <IISExpressWindowsAuthentication />
    <IISExpressUseClassicPipelineMode />
  </PropertyGroup>
  <PropertyGroup>
    <VisualStudioVersion Condition="'$(VisualStudioVersion)' == ''">12.0</VisualStudioVersion>
    <VSToolsPath Condition="'$(VSToolsPath)' == ''">$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v$(VisualStudioVersion)</VSToolsPath>
  </PropertyGroup>
  <PropertyGroup>
    <RootNamespace>BCL</RootNamespace>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)' == 'Full'">
    <OutputPath>bin\</OutputPath>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)' == 'iOS'">
    <OutputPath>bin\</OutputPath>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)' == 'Android'">
    <OutputPath>bin\</OutputPath>
  </PropertyGroup>
  <PropertyGroup>
    <GenerateResourceNeverLockTypeAssemblies>true</GenerateResourceNeverLockTypeAssemblies>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)' == 'iOS_Deploy'">
    <DebugSymbols>true</DebugSymbols>
    <OutputPath>bin\</OutputPath>
    <DebugType>full</DebugType>
    <PlatformTarget>AnyCPU</PlatformTarget>
    <CodeAnalysisRuleSet>MinimumRecommendedRules.ruleset</CodeAnalysisRuleSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)' == 'Android_Deploy'">
    <DebugSymbols>true</DebugSymbols>
    <OutputPath>bin\</OutputPath>
    <DebugType>full</DebugType>
    <PlatformTarget>AnyCPU</PlatformTarget>
    <CodeAnalysisRuleSet>MinimumRecommendedRules.ruleset</CodeAnalysisRuleSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)' == 'iOS_Tests'">
    <DebugSymbols>true</DebugSymbols>
    <OutputPath>bin\</OutputPath>
    <DebugType>full</DebugType>
    <PlatformTarget>AnyCPU</PlatformTarget>
    <CodeAnalysisRuleSet>MinimumRecommendedRules.ruleset</CodeAnalysisRuleSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)' == 'Android_Tests'">
    <OutputPath>bin\</OutputPath>
  </PropertyGroup>
  <Import Project="$(MSBuildBinPath)\Microsoft.CSharp.targets" />
  <Import Project="$(VSToolsPath)\WebApplications\Microsoft.WebApplication.targets" Condition="'$(VSToolsPath)' != ''" />
  <ProjectExtensions>
    <VisualStudio>
      <FlavorProperties GUID="{349c5851-65df-11da-9384-00065b846f21}">
        <WebProjectProperties>
          <UseIIS>False</UseIIS>
          <AutoAssignPort>True</AutoAssignPort>
          <DevelopmentServerPort>63708</DevelopmentServerPort>
          <DevelopmentServerVPath>/</DevelopmentServerVPath>
          <IISUrl>http://localhost:63708/</IISUrl>
          <NTLMAuthentication>False</NTLMAuthentication>
          <UseCustomServer>False</UseCustomServer>
          <CustomServerUrl>
          </CustomServerUrl>
          <SaveServerSettingsInUserFile>False</SaveServerSettingsInUserFile>
        </WebProjectProperties>
      </FlavorProperties>
    </VisualStudio>
  </ProjectExtensions>
  <ItemGroup>
    <TypeScriptCompile Include="application\application.android.ts">
      <DependentUpon>application.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="application\application.d.ts" />
    <TypeScriptCompile Include="application\application.ios.ts">
      <DependentUpon>application.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="console\console-native.android.ts">
      <DependentUpon>console-native.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="console\console-native.ios.ts">
      <DependentUpon>console-native.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="console\console.ts">
      <DependentUpon>console.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="console\console-native.d.ts" />
    <TypeScriptCompile Include="declarations.d.ts" />
    <TypeScriptCompile Include="declarations.android.d.ts">
      <DependentUpon>declarations.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="camera\camera.android.ts">
      <DependentUpon>camera.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="camera\camera.d.ts" />
    <TypeScriptCompile Include="camera\camera.ios.ts">
      <DependentUpon>camera.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="declarations.ios.d.ts">
      <DependentUpon>declarations.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="file-system\file-system.d.ts" />
    <TypeScriptCompile Include="file-system\file-system-access.d.ts" />
    <TypeScriptCompile Include="file-system\file-system.impl.ts">
      <DependentUpon>file-system.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="http\http-request.d.ts" />
    <TypeScriptCompile Include="http\http-request.android.ts">
      <DependentUpon>http-request.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="http\http-request.ios.ts">
      <DependentUpon>http-request.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="image-source\image-source-native.android.ts">
      <DependentUpon>image-source-native.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="image-source\image-source-native.ios.ts">
      <DependentUpon>image-source-native.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="image-source\image-source.d.ts" />
    <TypeScriptCompile Include="image-source\image-source-native.d.ts" />
    <TypeScriptCompile Include="image-source\image-source.impl.ts">
      <DependentUpon>image-source.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="image-source\index.ts" />
    <TypeScriptCompile Include="location\location.d.ts" />
    <TypeScriptCompile Include="promises\promises.d.ts" />
    <TypeScriptCompile Include="Tests\application-tests-common.ts" />
    <TypeScriptCompile Include="Tests\application-tests.ios.ts">
      <DependentUpon>application-tests-common.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="Tests\application-tests.android.ts">
      <DependentUpon>application-tests-common.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="Tests\file-system-tests.ts" />
    <TypeScriptCompile Include="Tests\http-tests.ts" />
    <TypeScriptCompile Include="Tests\image-source-tests.ts" />
    <TypeScriptCompile Include="Tests\index.ts" />
    <TypeScriptCompile Include="Tests\location-tests.ts" />
    <TypeScriptCompile Include="Tests\testRunner.ts" />
    <TypeScriptCompile Include="Tests\TKUnit.ts" />
    <TypeScriptCompile Include="text\index.ts" />
    <TypeScriptCompile Include="text\text.android.ts">
      <DependentUpon>text.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="text\text.d.ts" />
    <TypeScriptCompile Include="text\text.ios.ts">
      <DependentUpon>text.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="utils\module-merge.ts" />
    <TypeScriptCompile Include="utils\utils_android.ts" />
    <TypeScriptCompile Include="utils\utils_ios.ts" />
    <TypeScriptCompile Include="http\index.ts" />
    <TypeScriptCompile Include="location\index.ts" />
    <TypeScriptCompile Include="file-system\index.ts" />
    <TypeScriptCompile Include="console\index.ts" />
    <TypeScriptCompile Include="camera\index.ts" />
    <TypeScriptCompile Include="application\index.ts" />
    <TypeScriptCompile Include="android17.d.ts" />
    <TypeScriptCompile Include="promises\promises.ts" />
    <TypeScriptCompile Include="promises\index.ts" />
    <TypeScriptCompile Include="ios7.d.ts" />
    <TypeScriptCompile Include="globals\index.ts" />
    <TypeScriptCompile Include="timer\index.ts" />
    <TypeScriptCompile Include="timer\timer.android.ts">
      <DependentUpon>timer.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="console\console.d.ts" />
    <TypeScriptCompile Include="timer\timer.d.ts" />
    <TypeScriptCompile Include="timer\timer.ios.ts">
      <DependentUpon>timer.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="Tests\local-settings-tests.ts" />
    <TypeScriptCompile Include="file-system\file-system-access.android.ts">
      <DependentUpon>file-system-access.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="file-system\file-system-access.ios.ts">
      <DependentUpon>file-system-access.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="application\application-common.ts" />
    <TypeScriptCompile Include="http\http.impl.ts">
      <DependentUpon>http.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="http\http.d.ts" />
    <TypeScriptCompile Include="local-settings\index.ts" />
    <TypeScriptCompile Include="local-settings\local-settings.d.ts" />
    <TypeScriptCompile Include="local-settings\local-settings.android.ts">
      <DependentUpon>local-settings.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="local-settings\local-settings.ios.ts">
      <DependentUpon>local-settings.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="local-settings\local-settings-common.ts" />
    <TypeScriptCompile Include="Tests\timer-tests.ts" />
    <TypeScriptCompile Include="location\location-types.ts">
      <DependentUpon>location.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="location\location-manager.android.ts">
      <DependentUpon>location-manager.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="location\location-manager.d.ts" />
    <TypeScriptCompile Include="location\location-manager.ios.ts">
      <DependentUpon>location-manager.d.ts</DependentUpon>
    </TypeScriptCompile>
    <TypeScriptCompile Include="location\location.impl.ts">
      <DependentUpon>location.d.ts</DependentUpon>
    </TypeScriptCompile>
  </ItemGroup>
  <ItemGroup>
    <TypeScriptCompile Include="libjs.d.ts" />
  </ItemGroup>
  <ItemGroup>
    <TypeScriptCompile Include="camera\camera-types.ts">
      <DependentUpon>camera.d.ts</DependentUpon>
    </TypeScriptCompile>
    <Content Include="_references.ts" />
    <Content Include="image-source\Readme.md" />
    <Content Include="http\Readme.md" />
    <Content Include="Readme.md" />
    <Content Include="console\Readme.md" />
    <Content Include="location\Readme.md" />
    <Content Include="application\Readme.md" />
    <Content Include="globals\Readme.md" />
    <Content Include="timer\Readme.md" />
    <Content Include="Deploy\Readme.md" />
    <Content Include="Tests\Readme.md" />
    <Content Include="local-settings\Readme.md" />
  </ItemGroup>
  <ItemGroup>
    <Folder Include="Deploy\Eclipse\" />
    <Folder Include="Deploy\Full\" />
    <Folder Include="Deploy\xCode\" />
  </ItemGroup>
  <PropertyGroup Condition="'$(Configuration)' == 'Full'">
    <TypeScriptModuleKind>commonjs</TypeScriptModuleKind>
    <TypeScriptRemoveComments>True</TypeScriptRemoveComments>
    <TypeScriptSourceMap>True</TypeScriptSourceMap>
    <TypeScriptTarget>ES5</TypeScriptTarget>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)' == 'iOS'">
    <TypeScriptModuleKind>commonjs</TypeScriptModuleKind>
    <TypeScriptRemoveComments>True</TypeScriptRemoveComments>
    <TypeScriptSourceMap>True</TypeScriptSourceMap>
    <TypeScriptTarget>ES5</TypeScriptTarget>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)' == 'Android'">
    <TypeScriptModuleKind>commonjs</TypeScriptModuleKind>
    <TypeScriptRemoveComments>True</TypeScriptRemoveComments>
    <TypeScriptSourceMap>True</TypeScriptSourceMap>
    <TypeScriptTarget>ES5</TypeScriptTarget>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)' == 'iOS_Deploy'">
    <TypeScriptModuleKind>commonjs</TypeScriptModuleKind>
    <TypeScriptRemoveComments>True</TypeScriptRemoveComments>
    <TypeScriptSourceMap>True</TypeScriptSourceMap>
    <TypeScriptTarget>ES5</TypeScriptTarget>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)' == 'Android_Deploy'">
    <TypeScriptModuleKind>commonjs</TypeScriptModuleKind>
    <TypeScriptRemoveComments>True</TypeScriptRemoveComments>
    <TypeScriptSourceMap>True</TypeScriptSourceMap>
    <TypeScriptTarget>ES5</TypeScriptTarget>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)' == 'Android_Tests'">
    <TypeScriptModuleKind>commonjs</TypeScriptModuleKind>
    <TypeScriptTarget>ES5</TypeScriptTarget>
    <TypeScriptRemoveComments>True</TypeScriptRemoveComments>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)' == 'iOS_Tests'">
    <TypeScriptModuleKind>commonjs</TypeScriptModuleKind>
    <TypeScriptRemoveComments>True</TypeScriptRemoveComments>
    <TypeScriptTarget>ES5</TypeScriptTarget>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)' == 'Documentation'">
    <TypeScriptModuleKind>commonjs</TypeScriptModuleKind>
    <TypeScriptRemoveComments>False</TypeScriptRemoveComments>
    <TypeScriptTarget>ES5</TypeScriptTarget>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)' == 'Release'">
    <TypeScriptModuleKind>commonjs</TypeScriptModuleKind>
  </PropertyGroup>
  <Import Project="$(VSToolsPath)\TypeScript\Microsoft.TypeScript.targets" Condition="Exists('$(VSToolsPath)\TypeScript\Microsoft.TypeScript.targets')" />
  <!--
  Custom build tasks
  -->
  <PropertyGroup Condition=" '$(Configuration)' == 'Full'">
    <TargetOS>Full</TargetOS>
    <JSConfig>Deploy\Full\Configuration.xml</JSConfig>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)' == 'iOS'">
    <TargetOS>iOS</TargetOS>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)' == 'iOS_Deploy'">
    <TargetOS>iOS</TargetOS>
    <JSConfig>Deploy\xCode\Configuration.xml</JSConfig>
    <JSMainFile>bootstrap.js</JSMainFile>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)' == 'iOS_Tests'">
    <TargetOS>iOS</TargetOS>
    <JSConfig>Deploy\xCode\Configuration.xml</JSConfig>
    <!--TODO: Do not call this JSMainFile - this file is actually NOT deleted during the Copy step.-->
    <JSMainFile>Readme.md</JSMainFile>
    <CopyTests>true</CopyTests>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)' == 'Documentation'">
    <TargetOS>Documentation</TargetOS>
    <CopyTests>true</CopyTests>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)' == 'Android'">
    <TargetOS>Android</TargetOS>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)' == 'Android_Deploy'">
    <TargetOS>Android</TargetOS>
    <JSConfig>Deploy\Eclipse\Configuration.xml</JSConfig>
    <JSMainFile>bootstrap.js</JSMainFile>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)' == 'Android_Tests'">
    <TargetOS>Android</TargetOS>
    <JSConfig>Deploy\Eclipse\Configuration.xml</JSConfig>
    <JSMainFile>bootstrap.js</JSMainFile>
    <CopyTests>true</CopyTests>
  </PropertyGroup>
  <UsingTask TaskName="BuildTasks.CopyForPlatformBuildTask" AssemblyFile="../../Build/lib/BuildTasks.dll" />
  <Target Name="AfterBuild">
    <CopyForPlatformBuildTask TargetPlatform="$(TargetOS)" IncludeTests="$(CopyTests)" Platforms="iOS;Android" InputFiles="@(GeneratedJavascript)" DestinationFolder="$(OutputPath)\$(Configuration)\" JSConfigFile="$(JSConfig)" AppMainJSFile="$(JSMainFile)" ProjectDir="$(ProjectDir)" />
    <Exec Condition=" '$(Configuration)' == 'Documentation'" Command="node ../../Documentation/Src/TypeScriptAPIExtractor/app.js @(TypeScriptCompile) $(IntermediateOutputPath)\api.xml" IgnoreExitCode="true" IgnoreStandardErrorWarningFormat="false" LogStandardErrorAsError="true" />
  </Target>
  <PropertyGroup>
    <PostBuildEvent>
    </PostBuildEvent>
  </PropertyGroup>
</Project>